
<!DOCTYPE html>
<html lass="no-js" lang="ru" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#" >

<head>
  <meta charset="utf-8">
  <title>Подсветка меню в Jekyll</title>
  <meta name="description" content="Подсветка меню в генераторе статических сайтов Jekyll">
  <meta name="author" content="Andrey Amelin">
  <meta property="fb:admins" content="100007240991418"/>
  <meta property="fb:app_id" content="111129072574112" />

  <meta property="og:locale" content="ru_RU" />

  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@droboshok"/>


  <meta property="og:title" content="Подсветка меню в Jekyll" />
  <meta property="og:url" content="http://droboshok.in.ua/jekyll/links.html" />
  
  <meta property="og:description" content="Подсветка меню в генераторе статических сайтов Jekyll" />
  
  <meta property="og:image" content="http://droboshok.in.ua/Jekyll/" />
  <meta property="og:type" content="website" />
  <link rel="canonical" href="http://droboshok.in.ua/jekyll/links.html" />
  

  <!-- Enable responsive viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- Le styles -->
  <link href="/assets/css/normalize.css" rel="stylesheet">
  <link href="/assets/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="/assets/resources/bootstrap.vertical-tabs/bootstrap.vertical-tabs.min.css" rel="stylesheet">
  <link href="/assets/resources/syntax/syntax.css" rel="stylesheet">
  <link href="/assets/css/style.css" rel="stylesheet">

  <!-- atom & rss feed -->
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
  <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
</head>

<body>

  <nav class="navbar navbar-default visible-xs" role="navigation">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a type="button" class="navbar-toggle nav-link" href="http://github.com/droboshok">
        <i class="fa fa-github"></i>
      </a>
      
      
      <a type="button" class="navbar-toggle nav-link" href="http://twitter.com/droboshok">
        <i class="fa fa-twitter"></i>
      </a>
      
      
      <a type="button" class="navbar-toggle nav-link" href="mailto:droboshok@ua.fm">
        <i class="fa fa-envelope"></i>
      </a>
      
      <a class="navbar-brand" href="/">
        <img src="/img/gravatar.jpeg" class="img-circle" />
        Droboshok<br>
      </a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Home</a></li>
        <li><a href="/categories.html">Categories</a></li>
        <li><a href="/tags.html">Tags</a></li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </nav>

  <!-- nav-menu-dropdown -->
  <div class="btn-group hidden-xs" id="nav-menu">
   <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
     <i class="fa fa-bars"></i>
   </button>
   <ul class="dropdown-menu" role="menu">
     <li><a href="/"><i class="fa fa-home"></i> Главная</a></li>
     <li><a href="/categories.html"><i class="fa fa-folder"></i> Рубрики</a></li>
     <li><a href="/tags.html"><i class="fa fa-tags"></i> Тэги</a></li>
     <li class="divider"></li>
     <li><a href="#"><i class="fa fa-arrow-up"></i> Вверх страницы</a></li>
   </ul>
 </div>

 <div class="col-sm-3 sidebar hidden-xs">
   <! -- sidebar.html -->
<header class="sidebar-header" role="banner">
	<a href="/">
		<img src="/img/gravatar.jpeg" class="img-circle" />
	</a>
	<h3 class="title">
		<a href="/">Droboshok</a>
	</h3>
	Thoughts, stories and ideas.
</header>



<div id="contact-list" class="text-center">
	<ul class="list-unstyled list-inline">
		
		<li>
			<a class="btn btn-default btn-sm" href="https://github.com/droboshok">
				<i class="fa fa-github-alt fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="https://twitter.com/droboshok">
				<i class="fa fa-twitter fa-lg"></i>
			</a>
		</li>
		
		
		<li>
			<a class="btn btn-default btn-sm" href="mailto:droboshok@ua.fm">
				<i class="fa fa-envelope fa-lg"></i>
			</a>
		</li>
		
	</ul>
	<ul id="contact-list-secondary" class="list-unstyled list-inline">
		<li>
			<a class="btn btn-default btn-sm" href="/rss.xml">
				<i class="fa fa-rss fa-lg"></i>
			</a>
		</li>
	</ul>
</div>

<! -- sidebar.html end -->

 </div>

 <div class="col-sm-9 col-sm-offset-3">
  
<div class="page-header">
  <h1>Подсветка меню в Jekyll </h1>
</div>
<article>
	<div class="col-sm-10">
    <span class="post-date">
      
      January
      4th,
      
      2015
    </span>

    <div class="article_body">
      
<p>Все кто пользуется генератором статических сайтов Jekyll сталкивался с ситуацией когда возникает необходимость выделить название меню той страницы где находится посетитель.</p>

<p>Я предлагаю воспользоваться следующим способом:<!--more--></p>

<p>В качестве примера будем использовать стандартный шаблон Jekyll.Я добавил несколько страниц в меню для наглядности.Теперь наш тестовый сайт выглядит следующим образом</p>

<p><img src="http://res.cloudinary.com/droboshok-github-io/image/upload/c_scale,w_1236/v1420400770/droboshok/links-1.png" alt="Подсветка меню в Jekyll" /></p>

<p>Как Вы видите наше меню состоит из пунктов: Главная, Портфолио, FAQ, О Нас.
За выделение активной ссылки отвечает class “active”.Пропишем небольшой скрипт который будет вставлять class=”active” в шаблон текущей страницы.Для начала создадим папку ‘ _data ‘ в корневой директории сайта.В этой папке создадим файл ‘ links.yml ‘ и  пропишем в этом файле название рубрик и ссылки на эти рубрики</p>

<pre><code>- title: Главная 
  url: index.html

- title: Портфолио
  url: foto.html

- title: FAQ
  url: faq.html

- title: О Нас
  url: about.html 
</code></pre>

<p>Сам скрипт имеет следующий вид</p>

<pre><code>{ % for link in site.data.links % }      
    { % assign active = nil % }   
    { % if page.url contains link.url % }
        { % assign active = 'active' % }
    { % endif % }
    &lt;li class="{ % if forloop.first % }{ % endif % }  { % if forloop.last % }{ % endif % }"&gt;
        &lt;a href=""&gt;&lt;/a&gt;
    &lt;/li&gt;
{ % endfor % }
</code></pre>

<p>Скрипт делает проверку, если текущая страница есть в списке меню ей подставляется класс “active”</p>

<p>Теперь нам необходимо отредактировать страницу в которой находится наше меню.</p>

<pre><code>&lt;div class="trigger"&gt;
    &lt;ul class= "page-link"&gt;
     &lt;li class="active"&gt;
          &lt;a href="index.html"&gt;Главная&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a href="foto.html"&gt;Портфолио&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a href="faq.html"&gt;FAQ&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;a href="about.html"&gt;О нас&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
</code></pre>

<p>И заменить на строки</p>

<pre><code>&lt;div class="trigger"&gt;
    &lt;ul class= "page-link"&gt;    
    { % for link in site.data.links % }
    { % assign active = nil % }
    { % if page.url contains link.url % }
        { % assign active = 'active' % }
    { % endif % }
    &lt;li class="{ % if forloop.first % }{ % endif % }  { % if forloop.last % }{ % endif % }"&gt;
        &lt;a href=""&gt;&lt;/a&gt;
    &lt;/li&gt;
{ % endfor % }
    &lt;/ul&gt;
  &lt;/div&gt;
</code></pre>

<p>Теперь когда посетитель перейдет в какойто раздел меню, допустим “Портфолио” ссылка в меню изменит свой стиль. Для примера я использовал красный цвет активной ссылки.</p>

<p><img src="http://res.cloudinary.com/droboshok-github-io/image/upload/v1420410716/droboshok/link2.png" alt="Активная ссылка в меню Jekyll" /></p>

<p>Ну вот, теперь наш сайт стал более дружелюбным.</p>


    </div>
	<hr>

      <section class="share">
      
        <h4 class="section-title">Понравилась статья? Поделись ей в:</h4>
        <a class="btn btn-default btn-sm twitter" href="#" onclick="window.open('http://twitter.com/share?text=Подсветка меню в Jekyll;url=http://droboshok.in.ua/jekyll/links.html', 'twitterShare', 'width=626,height=436'); return false;" title="">
          <i class="fa fa-twitter fa-lg"></i>
          Twitter
        </a>
        <a class="btn btn-default btn-sm facebook" href="#" onclick="window.open('http://www.facebook.com/sharer.php?s=100&p[title]=Подсветка меню в Jekyll&amp;p[summary]=Подсветка меню в генераторе статических сайтов Jekyll&amp;p[url]=http://droboshok.in.ua&amp;p[images][0]=http://droboshok.in.uaJekyll/', 'facebookShare', 'width=626,height=436'); return false;" title="Подсветка меню в Jekyll">
          <i class="fa fa-facebook fa-lg"></i>
          Facebook
        </a>
		    <a class="btn btn-default btn-sm vk" href="#" onclick="window.open('http://vkontakte.ru/share.php?url=http://droboshok.in.ua/jekyll/links.html&amp;image=http://droboshok.in.ua/Jekyll/&amp;description=Подсветка меню в генераторе статических сайтов Jekyll', 'pinterestShare', 'width=750,height=350'); return false;" title="Vkontakte">
          <i class="fa fa-google-plus fa-vk"></i>
          Вконтакте
        </a>
        <a class="btn btn-default btn-sm gplus" href="#" onclick="window.open('https://plusone.google.com/_/+1/confirm?hl=ru-RU&amp;url=http://droboshok.in.ua/jekyll/links.html', 'googleShare', 'width=626,height=436'); return false;" title="Подсветка меню в Jekyll" target="_blank">
          <i class="fa fa-google-plus fa-lg"></i>
          Google+
        </a>
      </section>
	  <hr>

    
    <ul class="tag_box list-unstyled list-inline">
      <li><i class="fa fa-folder-open"></i></li>
      
      
      
      <li><a href="/categories.html#jekyll-ref">
        jekyll <span>(2)</span>
        
      </a></li>
      
      
    </ul>
    

    
    <ul class="list-inline">
      <li><i class="fa fa-tags"></i></li>
      
      
      
      <li>
        <a href="/tags.html#Jekyll-ref">
          Jekyll <span>(3)</span>
          ,
        </a>
      </li>
      
      <li>
        <a href="/tags.html#Github-ref">
          Github <span>(2)</span>
          
        </a>
      </li>
      
      
      
    </ul>
    

    <hr>

    <ul class="pager">
      
      <li class="previous"><a href="/web/shortlink.html" title="Свой сервис коротких ссылок">&larr; Previous</a></li>
      
      
      <li class="next"><a href="/web/flickr-and-jekyll.html" title="Как добавить изображение из Flickr в блог Jekyll">Next &rarr;</a></li>
      
      </ul>


      <div id="fb-root"></div>
<script async>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v2.4&appId=111129072574112";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div class="fb-comments"  data-num-posts="5" data-width="580" data-colorscheme="light></div>
    </div>

    <div class="col-sm-2 sidebar-2">

    </div>
	

  </article>
  <div class="clearfix"></div>


  <hr>
  <div id="footer">
      <div class="container">
	  <ul class="list-inline">
  <li><a class="text-muted" href="/index.html">Главная</a>
  </li>
  <li><a class="text-muted" href="/pages.html">Статьи</a>
  </li>
  <li><a class="text-muted" href="/archive.html">Архив</a>
  </li>
  <li><a class="text-muted" href="/tags.html">Тэги</a>
  </li>
  <li><a class="text-muted" href="/articles/about.html">Об авторе</a>
  </li>
  <li><a class="text-muted" href="/categories.html">Рубрики</a>
  </li>
</ul>
        
      </div>
    </div>


 </div>

 
 <script type="text/javascript" src="/assets/resources/jquery/jquery.min.js"></script>
 <script type="text/javascript" src="/assets/resources/bootstrap/js/bootstrap.min.js"></script>
 <script type="text/javascript" src="/assets/js/app.js"></script>
</body>

</html>


